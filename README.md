ETL Orchestrator (Minimal API + Background Worker)

–®–∞–±–ª–æ–Ω –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ REST API –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ETL‚Äë–∑–∞–¥–∞–Ω–∏–π. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–≤—è–∑–∫—É Minimal APIs + —Ñ–æ–Ω–æ–≤—ã–π –≤–æ—Ä–∫–µ—Ä —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞, –∑–∞–ø—É—Å–∫ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (Python) –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Swagger/OpenAPI.

–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏

‚úÖ Minimal APIs + Swagger/OpenAPI ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, –∞–≤—Ç–æ‚Äë–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.

‚úÖ –§–æ–Ω–æ–≤—ã–π –≤–æ—Ä–∫–µ—Ä —Å SemaphoreSlim ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.

‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π dequeue –∏–∑ –ë–î —Å FOR UPDATE SKIP LOCKED ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–æ–Ω–æ–∫ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∑–∞–¥–∞—á.

‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π: JobRepository (–ë–î), ProcessRunner (–ø—Ä–æ—Ü–µ—Å—Å—ã), JobWorker (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è).

‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ IOptions<AppSettings> ‚Äî Python, —Ç–∞–π–º–∞—É—Ç—ã, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ª–æ–≥–æ–≤, –ø—É–ª –≤–æ—Ä–∫–µ—Ä–∞.

‚úÖ –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî stdout/stderr –≤–Ω–µ—à–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ —Ñ–∞–π–ª, –¥–æ—Å—Ç—É–ø –ø–æ API.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫–æ—Ä–æ—Ç–∫–æ)

‚úÖ JobRepository ‚Äî –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞–Ω–∏–π (enqueue/dequeue, mark success/fail/cancel, –ø–æ–∏—Å–∫ –ø–æ id).

‚úÖ ProcessRunner ‚Äî –∑–∞–ø—É—Å–∫ –≤–Ω–µ—à–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–Ω–∞–ø—Ä., python <script> --period ...), —Ç–∞–π–º–∞—É—Ç, —Å—Ç—Ä–∏–º–∏–Ω–≥ –ª–æ–≥–æ–≤.

‚úÖ JobWorker (BackgroundService) ‚Äî –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª: –∑–∞–±—Ä–∞—Ç—å –∑–∞–¥–∞—á—É ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å.

‚úÖ Program ‚Äî DI, Swagger, –º–∞—Ä—à—Ä—É—Ç—ã Minimal API.

–î–ª—è —á–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç

üÜó –®–∞–±–ª–æ–Ω –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤, –∑–∞–ø—É—Å–∫–∞—é—â–∏—Ö/–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏—Ö ETL/—Å–∫—Ä–∏–ø—Ç—ã/CLI‚Äë—É—Ç–∏–ª–∏—Ç—ã.

üÜó –ë–∞–∑–∏—Å –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ REST API —Å —Ñ–æ–Ω–æ–≤—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –∏ –æ—á–µ—Ä–µ–¥—å—é –≤ –ë–î.

üÜó –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç PoC/–ø–∏–ª–æ—Ç–æ–≤ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

–ü–ª–∞–Ω—ã (roadmap)

üóìÔ∏è ProblemDetails + –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–∞.

üóìÔ∏è –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API –∏ Rate Limiting.

üóìÔ∏è –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (API‚ÄëKey/JWT), CORS.

üóìÔ∏è Health Checks, Serilog, OpenTelemetry.

üóìÔ∏è Dockerfile/Compose –∏ —Ç–µ—Å—Ç—ã (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ + Testcontainers).
